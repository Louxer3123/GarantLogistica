{% extends 'samples/base.html' %}

{% block title %}
Калькулятор
{% endblock %}
{% include 'samples/header.html' %}


{% block content %}
    <script type="text/javascript">
        $(function() {
        var all_city = []
        {%for city in cities %}

        all_city.push('{{city[0]}}')

        {% endfor %}
            $('#cityto').autocomplete({
                source: function(request, response) {
                var results = $.ui.autocomplete.filter(all_city, request.term);

                response(results.slice(0, 10));
            }
            })

            $('#cityfrom').autocomplete({
                source: function(request, response) {
                var results = $.ui.autocomplete.filter(all_city, request.term);

                response(results.slice(0, 10));
            }
            })
        });
    </script>

    <section class="calculate">
        <div class="container calculate-container">

            <div class="grid-container1 center-items">
                <p>Откуда</p>
                <div class="input-field-city">
                    <label for="cityfrom"></label>
                    <i class="fas fa-map-marker-alt"></i>
                    <input id="cityfrom" type="text" class="city-from" oninput="calc_price()" placeholder="Санкт-Петербург">
                </div>
            </div>
            <div class="grid-container1 center-items">
                <p>Куда</p>
                <div class="input-field-city">
                    <label for="cityto"></label>
                    <i class="fas fa-map-marker-alt"></i>
                    <input id="cityto" type="text" class="city-to" oninput="calc_price()" placeholder="Выборг">
                </div>
            </div>
            <div class="grid-container center-items">
                <p>Кол-во мест</p>
                <input id="places" type="number" pattern="[0-9]{3}" class="places" oninput="calc_price()" placeholder="1">

            </div>
            <div class="grid-container center-items">
                <p>Вес груза</p>
                <input id="weight" type="number" class="weight" oninput="calc_price()" placeholder="1 кг.">
            </div>
            <div class="grid-container center-items" oninput="calc_price()">
                <p>Объем</p>
                <input type="number" class="volume" id="volume" placeholder="0.01 м&sup3;" pattern="\d+(,\d{2})?" oninput="calc_price()" onblur="focus_lost('volume')" onclick="start_input_calc('volume')">
            </div>
            <div class="grid-container row-1">
                <p>Необходимо забрать груз с адреса:      </p>
                <input id="pick" class="check-box" type="checkbox" onclick="calc_price()">
            </div>
            <div class="grid-container row-1">
                <p>Необходимо доставить груз до адреса:       </p>
                <input id="deliver" class="check-box" type="checkbox" onclick="calc_price()">
            </div>

            <div class="grid-container center-items">Стоимость</div>
            <div class="grid-container center-items">Срок</div>

            <div class="grid-container center-items color1">Стандарт</div>
            <div class="grid-container center-items color1">
                <span id="st_price"></span>
            </div>
            <div class="grid-container center-items color1">
                <span id="st_time"></span>
            </div>
            <div class="grid-container center-items color2">Экспресс</div>
            <div class="grid-container center-items color2">
                <span id="ex_price"></span>
            </div>
            <div class="grid-container center-items color2">
                <span id="ex_time"></span>
            </div>

        </div>
    </section>


{% endblock %}